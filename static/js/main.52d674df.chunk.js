(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(78)},38:function(e,t,a){},39:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(31),s=a.n(i),r=(a(38),a(39),a(4)),l=a(5),c=a(7),u=a(6),m=a(8),d=a(9).createActions(["prev","next"]),h=a(9),v=a(50),g=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={pokeData:e.loadingPokeData().pokeData,prevURL:e.loadingPokeData().previousURL,nextURL:e.loadingPokeData().nextURL},e.listenables=[d],e.P=new v,e.interval={limit:2},e.InitDataSetRequest(),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onPrev",value:function(){this.UserLoadPokemons(this.state.prevURL)}},{key:"onNext",value:function(){this.UserLoadPokemons(this.state.nextURL)}},{key:"InitDataSetRequest",value:function(){var e=this;this.P.getPokemonsList(this.interval,function(t){"Pokedex-promise-v2 error"===t?alert("Pokedex-promise-v2 error"):e.APICallToSetData(t)})}},{key:"APICallToSetData",value:function(e){var t=this;this.PokemonQuery(e.results).then(function(a){t.setState(t.updateData(e.previous,e.next,a))}).catch(function(e){console.log(e)})}},{key:"PokemonQuery",value:function(e){var t=this;return Promise.all(e.map(function(e){return t.P.getPokemonByName(e.name).then(function(e){return e})}))}},{key:"UserLoadPokemons",value:function(e){var t=this;this.setState(this.updateData(this.loadingPokeData().previousURL,this.loadingPokeData().nextURL,this.loadingPokeData().pokeData)),this.P.resource(e).then(function(e){t.APICallToSetData(e)})}},{key:"updateData",value:function(e,t,a){var n=Object.assign({},this.state);return n.pokeData=a,n.prevURL=e,n.nextURL=t,n}},{key:"loadingPokeData",value:function(){var e={id:null,name:"",sprites:{front_default:"./loading.gif"}};return{pokeData:[e,e,e],previousURL:null,nextURL:null}}}]),t}(h.Store),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={imageLoaded:!1,imageStatus:"Loading..."},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getPokeId",value:function(e){return this.state.imageLoaded?null===e||void 0===e?"":String(e):""}},{key:"getPokeName",value:function(e){return this.state.imageLoaded?String(e).toUpperCase():""}},{key:"setImageClass",value:function(e){return e?"image-show":"image-hide"}},{key:"handleImageLoaded",value:function(){this.setState({imageLoaded:!0,imageStatus:"Loaded"})}},{key:"handleImageErrored",value:function(){this.setState({imageLoaded:!1,imageStatus:"Failed to load image"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"card-cont"},o.a.createElement("div",{className:"row card-title-cont"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"float-left"},this.getPokeName(this.props.name)),o.a.createElement("div",{className:"float-right"},this.getPokeId(this.props.id)))),o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"card-img-cont"},o.a.createElement("img",{className:this.setImageClass(this.state.imageLoaded),onLoad:this.handleImageLoaded.bind(this),onError:this.handleImageErrored.bind(this),src:this.props.image_url,alt:"image pokemon"}),o.a.createElement("img",{className:this.setImageClass(!this.state.imageLoaded),src:"./loading.gif",alt:"image loader"})))))}}]),t}(o.a.Component),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=g,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getPokemonComponents",value:function(){return this.state.pokeData.map(function(e,t){return o.a.createElement("div",{className:"col-sm-4 col-12",key:e.name+"-"+t},o.a.createElement(k,{image_url:e.sprites.front_default,name:e.name,id:e.id}))})}},{key:"setBtnClass",value:function(e){return null===this.state[e]?"btn-grey":"btn-green"}},{key:"setBtnState",value:function(e){return null===this.state[e]}},{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row mt-4"},this.getPokemonComponents()),o.a.createElement("div",{className:"row mt-1"},o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{className:"float-left"},o.a.createElement("button",{onClick:function(e){return d.prev()},className:this.setBtnClass("prevURL"),disabled:this.setBtnState("prevURL")},"Prev"))),o.a.createElement("div",{className:"col-6"},o.a.createElement("div",{className:"float-right"},o.a.createElement("button",{onClick:function(e){return d.next()},className:this.setBtnClass("nextURL"),disabled:this.setBtnState("nextURL")},"Next")))))}}]),t}(a(9).Component);var p=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.52d674df.chunk.js.map